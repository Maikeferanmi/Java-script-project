<!DOCTYPE html>
<html lang="en">    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Landing Page</title>
    <link rel="stylesheet" href="../Css/landingpage.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
    <script src="https://www.gstatic.com/firebasejs/11.3.1/firebase-app.js"></script>
</head>
<body>
   
    <nav class="navbar">
        <div class="container">
            <!-- Logo Section -->
            <a href="landingpage.html" class="logo">
                <img src="../Images/logo.jpg " alt="Logo" class="logo-img">
            </a>
    
            <!-- Middle Section: Navigation Links -->
            <div class="nav-middle" id="nav-menu">
                <ul class="nav-links">
                    <li><a href="landingpage.html">Home</a></li>
                    <li><a href="#">Shop</a></li>
                    <li><a href="#">Categories</a></li>
                    <li><a href="#">Contact</a></li>
                </ul>

                <div class="search-bar">
                    <input type="text" placeholder="Search products..." class="search-input">
                    <button type="submit" class="search-btn" >Search</button>
                </div>
            </div>
    
            <!-- Right Section: Cart, Profile, Logout, and Hamburger -->
            <div class="nav-right">
                <a href="profile.html" class="nav-icon">
                    <i class="fas fa-user"></i>
                </a>
                <a href="#" class="nav-icon" onclick="logout()">
                    <i class="fas fa-sign-out-alt"></i>
                </a>
                <a href="cart.html" class="nav-icon">
                    <i class="fas fa-shopping-cart"></i>
                    <span class="badge bg-danger" id="cart-count">0</span>
                </a>
                <div class="hamburger" id="hamburger">
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                </div>
            </div>
        </div>
    </nav>

    <div class="news-ticker">
        <div class="news-ticker-content">
            <span>Breaking News: Our exciting new collection is now available for you to explore and shop! Enjoy free shipping on all orders over $50, making it easier than ever to get what you love delivered to your door! Don't miss out—subscribe to our newsletter today for exclusive offers, updates, and sneak peeks at upcoming products!</span>
        </div>
    </div>

    <section class="advertisement-section">
        <!-- Left Section: Text Content -->
        <div class="advertisement-left">
            <h2>Discover Amazing Products</h2>
            <p>Explore our wide range of products tailored to meet your needs. Shop now and enjoy exclusive discounts!</p>
        </div>

        <!-- Right Section: List or Additional Content -->
        <div class="advertisement-right">
            <ul>
                <li>High-Quality Products</li>
                <li>Affordable Prices</li>
                <li>Fast Delivery</li>
            </ul>
            <p>Don't miss out on our latest offers!</p>
        </div>

        <!-- Call-to-Action Button -->
        <div class="advertisement-button">
            <a href="#" class="" onclick="showProducts()">Shop Now</a>
        </div>
    </section>

    <div class="display" id="product-display" style="margin-top: 20px; display: none;">
        <div style="color: red;" class="errorP" id="errorP"></div>
        <div class="spinner-border text-danger" role="status" id="spinner">
            <span class="visually-hidden">Loading...</span>
        </div>
    </div>

    <div id="cart-page" style="display: none; padding: 20px;">
        <h2>Your Cart</h2>
        <div id="cart-items"></div>
        <button class="btn btn-danger" onclick="clearCart()">Clear Cart</button>
    </div>

    <section class="contact-us">
        <div class="contact-container">
            <!-- Left Section: Image -->
            <div class="contact-image">
                <img src="../Images/message.jpg" alt="Contact Us" />
            </div>
    
            <!-- Right Section: Contact Form -->
            <div class="contact-form">
                <h2>Contact Us</h2>
                <p>We'd love to hear from you! Please fill out the form below to get in touch.</p>
                <form action="#" method="POST">
                    <div class="form-group">
                        <label for="name">Name</label>
                        <input type="text" id="name" name="name" placeholder="Your Name" required />
                    </div>
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" id="email" name="email" placeholder="Your Email" required />
                    </div>
                    <div class="form-group">
                        <label for="message">Message</label>
                        <textarea id="message" name="message" rows="5" placeholder="Your Message" required></textarea>
                    </div>
                    <button type="submit" class="contact-btn">Send Message</button>
                </form>
            </div>
        </div>
    </section>

    <footer class="footer">
        <div class="footer-container">
           
            <div class="footer-section">
                <h3>About Us</h3>
                <p>We are your one-stop shop for the latest trends in fashion, electronics, and home goods. Shop with us for quality and style.</p>
            </div>

            
            <div class="footer-section">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="#"><i class="bi bi-house-door"></i> Home</a></li>
                    <li><a href="#"><i class="bi bi-cart"></i> Shop</a></li>
                    <li><a href="#"><i class="bi bi-box-seam"></i> Products</a></li>
                    <li><a href="#"><i class="bi bi-journal-text"></i> Blog</a></li>
                    <li><a href="#"><i class="bi bi-question-circle"></i> FAQ</a></li>
                </ul>
            </div>

           
            <div class="footer-section">
                <h3>Contact Us</h3>
                <ul>
                    <li><i class="bi bi-geo-alt"></i> 123 Oxford road, Manchester, UK</li>
                    <li><i class="bi bi-telephone"></i> +123 456 7890</li>
                    <li><i class="bi bi-envelope"></i> support@example.com</li>
                </ul>
            </div>

            
            <div class="footer-section">
                <h3>Newsletter</h3>
                <p>Subscribe to our newsletter to get the latest updates and offers.</p>
                <form class="newsletter-form">
                    <input type="email" placeholder="Enter your email" required>
                    <button type="submit">Subscribe</button>
                </form>
            </div>
        </div>        
        <div class="footer-bottom">
            <div class="social-icons">
                <a href="#"><i class="bi bi-facebook"></i></a>
                <a href="#"><i class="bi bi-twitter"></i></a>
                <a href="#"><i class="bi bi-instagram"></i></a>
                <a href="#"><i class="bi bi-linkedin"></i></a>
            </div>
            <p>&copy; 2025 Beauty’s Store. All rights reserved.</p>
        </div>
    </footer>

    

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.3.1/firebase-app.js";
        import { getAuth } from "https://www.gstatic.com/firebasejs/11.3.1/firebase-auth.js";

        // Your web app's Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyDBDFtnMM8etr9ceVHMgP2cvsoBZSNL0MM",
            authDomain: "e-commerce-53e53.firebaseapp.com",
            projectId: "e-commerce-53e53",
            storageBucket: "e-commerce-53e53.firebasestorage.app",
            messagingSenderId: "79474275158",
            appId: "1:79474275158:web:05b4acc2d4dca24c00dcf7"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);

        let display = document.querySelector('.display');
        let cart = JSON.parse(localStorage.getItem('cart')) || [];

        async function getAllProducts() {
            try {
                const getAllProductTask = await fetch('https://fakestoreapi.com/products');
                const productData = await getAllProductTask.json();
                document.getElementById('spinner').style.display = 'none';
                document.getElementById('errorP').textContent = '';

                // Group products by category
                const productsByCategory = productData.reduce((acc, product) => {
                    if (!acc[product.category]) {
                        acc[product.category] = [];
                    }
                    acc[product.category].push(product);
                    return acc;
                }, {});

                // Render products by category
                for (const category in productsByCategory) {
                    const categorySection = document.createElement('div');
                    categorySection.classList.add('category-section');
                    categorySection.style.display = 'flex';
                    categorySection.style.flexWrap = 'wrap';
                    categorySection.style.margin = '20px 0';
                    categorySection.style.padding = '20px';
                    categorySection.style.border = '3px solid #ccc';
                    categorySection.style.justifyContent = 'center';
                    categorySection.style.borderRadius = '5px';

                    const categoryHeader = document.createElement('h3');
                    categoryHeader.textContent = category.toUpperCase();
                    categoryHeader.style.width = '100%';
                    categoryHeader.style.textAlign = 'center';
                    categoryHeader.style.marginBottom = '20px';
                    categorySection.appendChild(categoryHeader);

                    productsByCategory[category].forEach((product, index) => {
                        const { image, title, description, price } = product;
                        const productCard = document.createElement('div');
                        productCard.classList.add('product-card');
                        productCard.style.setProperty('--animation-delay', `${index * 0.1}s`);
                        productCard.innerHTML = `
                            <img src="${image}" alt="" style="width: 100%; height: 200px; object-fit: cover;">
                            <h5 class="card-title">${title}</h5>
                            <div class="description" id="desc-${product.id}" style="max-height: 100px;">
                                <p>${description}</p>
                            </div>
                            <p style="font-weight: bold">Price: $${price}</p>
                            <button class="btn btn-primary" onclick="addToCart(${product.id}, '${title}', ${price}, '${image}')">Add to Cart</button>
                            
                        `;
                        categorySection.appendChild(productCard);
                    });

                    display.appendChild(categorySection);
                }

                // Apply animation when elements are in view
                const productCards = document.querySelectorAll('.product-card');
                const observer = new IntersectionObserver(entries => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add('in-view');
                        }
                    });
                });

                productCards.forEach(card => {
                    observer.observe(card);
                });

            } catch (error) {
                document.getElementById('spinner').style.display = 'none';
                document.getElementById('errorP').textContent = 'Error fetching products.....';
            }
        }

        window.addToCart = function(id, title, price, image) {
            const existingProductIndex = cart.findIndex(item => item.id === id);
            if (existingProductIndex !== -1) {
                cart[existingProductIndex].quantity += 1;
            } else {
                cart.push({ id, title, price, image, quantity: 1 });
            }
            localStorage.setItem('cart', JSON.stringify(cart));
            document.getElementById('cart-count').textContent = cart.reduce((total, item) => total + item.quantity, 0);
        }

        function toggleDescription(productId) {
            const descElement = document.getElementById(`desc-${productId}`);
            const isCollapsed = descElement.style.maxHeight === '100px';
            descElement.style.maxHeight = isCollapsed ? 'none' : '100px';
            descElement.style.overflow = isCollapsed ? 'visible' : 'hidden';
        }

        function showHome() {
            document.getElementById('product-display').style.display = 'flex';
            document.getElementById('cart-page').style.display = 'none';
            getAllProducts();
        }

        function showCart() {
            document.getElementById('product-display').style.display = 'none';
            document.getElementById('cart-page').style.display = 'block';
            displayCartItems();
        }

        function displayCartItems() {
            const cartItemsDiv = document.getElementById('cart-items');
            cartItemsDiv.innerHTML = '';
            if (cart.length === 0) {
                cartItemsDiv.innerHTML = '<p>Your cart is empty.</p>';
            } else {
                cart.forEach(item => {
                    cartItemsDiv.innerHTML += `
                        <div style="margin: 10px 0; padding: 10px; border: 1px solid #ccc; border-radius: 5px;">
                            <img src="${item.image}" alt="" style="width: 50px; height: auto; margin-right: 10px;">
                            <strong>${item.title}</strong>
                            <p>Price: $${item.price}</p>
                            <p>Quantity: ${item.quantity}</p>
                        </div>
                    `;
                });
            }
        }

        function clearCart() {
            cart = [];
            localStorage.setItem('cart', JSON.stringify(cart));
            document.getElementById('cart-count').textContent = 0;
            displayCartItems();
        }

        function logout() {
            auth.signOut().then(() => {
                alert("Logged out successfully!");
                window.location.href = "landingpage.html"; // Redirect to home page
            }).catch((error) => {
                console.error("Error logging out:", error);
            });
        }

        getAllProducts();
    </script>
    <script>
        function showProducts() {
            const adSection = document.querySelector('.advertisement-section'); // Select the advertisement section
            const productDisplay = document.getElementById('product-display'); // Select the product display section

            // Hide the advertisement section
            adSection.style.display = 'none';

            // Show the product display section
            productDisplay.style.display = 'block';

            // Fetch and display the products
            getAllProducts();
        }
    </script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            fetch("navbar.html")
                .then(response => response.text())
                .then(data => {
                    document.getElementById("navbar-placeholder").innerHTML = data;
                });
        });
    </script>
    <script src="../Js/logout.js" type="module"></script>
    <script src="../Js/hamburger.js"></script>
    <script src="../Js/firebase.js"></script>
    

</body>
</html>